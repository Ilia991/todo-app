{"version":3,"sources":["utils/fetchClient.ts","api/todos.ts","components/TodoItem/TodoItem.tsx","Todos.tsx","FormUser.tsx","App.tsx","index.tsx"],"names":["request","url","data","arguments","length","undefined","options","method","body","JSON","stringify","headers","fetch","then","response","ok","Error","json","client","deleteTodo","todoId","concat","updateTodo","id","TodoItem","_ref","todo","onDelete","onUpdate","todoEdit","_useState","useState","_useState2","_slicedToArray","doubleClick","setDoubleClick","_useState3","title","_useState4","activeTitle","setActiveTitle","_jsxs","className","classNames","completed","children","_jsx","htmlFor","type","checked","onChange","onSubmit","e","preventDefault","value","target","onBlur","onKeyDown","key","keyKlick","autoFocus","_Fragment","onDoubleClick","onClick","ErorrType","Filter","Todos","timeErorr","user","todos","setTodos","NONE","erorr","setErorr","_useState5","ALL","_useState6","filterTodos","setFilterTodos","_useState7","_useState8","setTitle","_useState9","_useState10","isDisabled","setIsDisabled","visibleTodos","useMemo","arrItems","typeFilter","_toConsumableArray","filter","item","ACTIVE","COMPLETED","ativeTodos","completedTodos","clearErorr","window","clearTimeout","todoItem","map","_objectSpread","useEffect","timer","setTimeout","userId","allTodos","catch","UPDATE_ERROR","active","newItemTodo","newTodo","ADD_ERROR","placeholder","disabled","href","selected","hidden","DELETE_ERROR","ErrorInput","FormUser","setUserEmail","userEmail","formSubmit","errorInput","secVisIn","setUserName","userName","error","EMAILERROR","required","NAMEERROR","App","setErrorInput","setSecVisIn","_useLocaleStorage","initialValue","localStorage","getItem","parse","_unused","setValue","v","setItem","useLocaleStorage","_useLocaleStorage2","setUser","RegExp","test","u","name","email","ReactDOM","render","HashRouter","document","getElementById"],"mappings":"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","file":"static/js/main.47fa7a2e.chunk.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nconst BASE_URL = 'https://mate.academy/students-api';\n\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  return fetch(BASE_URL + url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error();\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: any) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","import { Todo } from '../types/Todo';\nimport { client } from '../utils/fetchClient';\n\nexport const getTodos = (userId: number) => {\n  return client.get<Todo[]>(`/todos?userId=${userId}`);\n};\n\nexport const addTodos = (\n  url:string,\n  data:Pick<Todo, 'userId' | 'title' | 'completed'>,\n) => {\n  return client.post<Todo>(url, data);\n};\n\nexport const deleteTodo = (todoId:number) => {\n  return client.delete(`/todos/${todoId}`);\n};\n\nexport const updateTodo = (id:number, data:object) => {\n  return client.patch(`/todos/${id}`, data);\n};\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { Todo } from '../../types/Todo';\nimport '../../styles/todoItem.scss';\nimport { deleteTodo } from '../../api/todos';\n\ntype TodoItemProps = {\n  todo: Todo;\n  onDelete:(id: number) => void;\n  onUpdate:(id: number, completed: boolean) => void;\n  updateTodo: (id: number, data: object) => Promise<unknown>;\n  todoEdit: (id: number) => void;\n};\n\nexport const TodoItem: React.FC<TodoItemProps> = ({\n  todo,\n  onDelete,\n  onUpdate,\n  updateTodo,\n  todoEdit,\n}) => {\n  const [doubleClick, setDoubleClick] = useState(false);\n  const [activeTitle, setActiveTitle] = useState(todo.title);\n\n  const keyKlick = (\n    e:React.KeyboardEvent<HTMLInputElement>,\n    title:string,\n    id:number,\n  ) => {\n    if (e.key === 'Enter') {\n      if (title.length > 0) {\n        updateTodo(todo.id, { title });\n        setDoubleClick(false);\n      } else {\n        deleteTodo(id);\n        todoEdit(id);\n      }\n    }\n\n    if (e.key === 'Escape') {\n      setActiveTitle(todo.title);\n      setDoubleClick(false);\n    }\n  };\n\n  return (\n    <div\n      className={classNames('todo', { completed: todo.completed })}\n      key={todo.id}\n    >\n      <label className=\"todo__status-label\" htmlFor=\"checkbox\">\n        <input\n          id=\"checkbox\"\n          type=\"checkbox\"\n          className=\"todo__status\"\n          checked={todo.completed}\n          onChange={() => onUpdate(todo.id, todo.completed)}\n        />\n      </label>\n\n      {doubleClick ? (\n        <form onSubmit={e => e.preventDefault()}>\n          <input\n            className=\"todo__title-field\"\n            type=\"text\"\n            value={activeTitle}\n            onChange={(e) => setActiveTitle(e.target.value)}\n            onBlur={(e) => {\n              updateTodo(todo.id, { title: e.target.value });\n              setDoubleClick(false);\n            }}\n            onKeyDown={e => keyKlick(e, activeTitle, todo.id)}\n            // eslint-disable-next-line\n            autoFocus\n          />\n        </form>\n      ) : (\n        <>\n          <span\n            className=\"todo__title\"\n            onDoubleClick={() => setDoubleClick(true)}\n          >\n            {activeTitle}\n          </span>\n\n          <button\n            type=\"button\"\n            className=\"todo__remove\"\n            onClick={() => onDelete(todo.id)}\n          >\n            ×\n          </button>\n        </>\n      )}\n\n      {/* <div className=\"modal overlay\">\n        <div className=\"modal-background has-background-white-ter\" />\n        <div className=\"loader\" />\n      </div> */}\n    </div>\n  );\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { Todo } from './types/Todo';\nimport {\n  getTodos,\n  addTodos,\n  deleteTodo,\n  updateTodo,\n} from './api/todos';\nimport { TodoItem } from './components/TodoItem/TodoItem';\n\n// eslint-disable-next-line\nenum ErorrType {\n  NONE,\n  ADD_ERROR,\n  DELETE_ERROR,\n  UPDATE_ERROR,\n}\n\n// eslint-disable-next-line\nenum Filter {\n  ALL = 'all',\n  ACTIVE = 'active',\n  COMPLETED = 'completed',\n}\n\ninterface User {\n  id:number,\n  name:string,\n  email:string,\n}\n\ntype TodosProps = {\n  user:User;\n};\n\nexport const Todos: React.FC<TodosProps> = ({ user }) => {\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [erorr, setErorr] = useState<ErorrType>(ErorrType.NONE);\n  const [filterTodos, setFilterTodos] = useState(Filter.ALL);\n  const [title, setTitle] = useState('');\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  let timeErorr: number;\n\n  const funcVisibleTodos = (arrItems: Todo[], typeFilter: Filter) => {\n    const items = [...arrItems];\n\n    return items.filter(item => {\n      switch (typeFilter) {\n        case Filter.ALL:\n          return item;\n\n        case Filter.ACTIVE:\n          return item.completed === false;\n\n        case Filter.COMPLETED:\n          return item.completed === true;\n\n        default:\n          return item;\n      }\n    });\n  };\n\n  const visibleTodos = useMemo(() => {\n    return funcVisibleTodos(todos, filterTodos);\n  }, [todos, filterTodos]);\n\n  const ativeTodos = todos.filter(todo => todo.completed === false);\n  const completedTodos = todos.filter(todo => todo.completed === true);\n\n  const clearErorr = () => {\n    setErorr(ErorrType.NONE);\n    window.clearTimeout(timeErorr);\n  };\n\n  const funcVisibleErorr = () => {\n    timeErorr = window.setTimeout(clearErorr, 3000);\n  };\n\n  const addNewTodos = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (title) {\n      const newItemTodo = {\n        userId: user.id,\n        title,\n        completed: false,\n      };\n\n      setIsDisabled(true);\n      addTodos('/todos', newItemTodo).then((newTodo) => {\n        setTodos([...todos, newTodo]);\n        setIsDisabled(false);\n      });\n    } else {\n      setErorr(ErorrType.ADD_ERROR);\n    }\n\n    setTitle('');\n  };\n\n  const onDelete = (id: number) => {\n    setTodos(todos.filter(todoItem => todoItem.id !== id));\n    deleteTodo(id);\n  };\n\n  const onUpdate = (id: number, completed: boolean) => {\n    const todoCompleted = { completed: !completed };\n\n    updateTodo(id, todoCompleted);\n    setTodos(todos.map(todo => {\n      if (todo.id === id) {\n        return { ...todo, completed: !completed };\n      }\n\n      return todo;\n    }));\n  };\n\n  const todoToggle = () => {\n    setTodos(todos.map(todo => {\n      if (completedTodos.length !== todos.length) {\n        updateTodo(todo.id, { completed: true });\n\n        return { ...todo, completed: true };\n      }\n\n      updateTodo(\n        todo.id,\n        { completed: !(completedTodos.length === todos.length) },\n      );\n\n      return { ...todo, completed: !(completedTodos.length === todos.length) };\n    }));\n  };\n\n  const clearCompleted = () => {\n    setTodos(todos.filter(todo => {\n      if (todo.completed !== false) {\n        deleteTodo(todo.id);\n\n        return false;\n      }\n\n      return true;\n    }));\n  };\n\n  const todoEdit = (id: number) => {\n    setTodos(todos.filter(todo => todo.id !== id));\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      getTodos(user.id)\n        .then(allTodos => setTodos(allTodos))\n        .catch(() => setErorr(ErorrType.UPDATE_ERROR));\n      clearTimeout(timer);\n    }, 100);\n  }, []);\n\n  useEffect(() => {\n    funcVisibleErorr();\n  }, [erorr]);\n\n  return (\n    <div className=\"todoapp\">\n      <h1 className=\"todoapp__title\">todos</h1>\n\n      <div className=\"todoapp__content\">\n        <header className=\"todoapp__header\">\n          <button\n            aria-label=\"button\"\n            type=\"button\"\n            className={classNames(\n              'todoapp__toggle-all',\n              { active: completedTodos.length === todos.length },\n            )}\n            onClick={() => todoToggle()}\n          />\n\n          <form onSubmit={addNewTodos}>\n            <input\n              type=\"text\"\n              className=\"todoapp__new-todo\"\n              placeholder=\"What needs to be done?\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              disabled={isDisabled}\n            />\n          </form>\n        </header>\n\n        <section className=\"todoapp__main\" data-cy=\"TodoList\">\n          {visibleTodos.map(todo => (\n            <TodoItem\n              key={todo.id}\n              todo={todo}\n              onDelete={onDelete}\n              onUpdate={onUpdate}\n              updateTodo={updateTodo}\n              todoEdit={todoEdit}\n            />\n          ))}\n\n        </section>\n\n        {todos && (\n          <footer className=\"todoapp__footer\">\n            <span className=\"todo-count\">\n              {`${ativeTodos.length} items left`}\n            </span>\n            <nav className=\"filter\">\n              <a\n                href=\"#/\"\n                className={classNames(\n                  'filter__link',\n                  { selected: filterTodos === Filter.ALL },\n                )}\n                onClick={() => setFilterTodos(Filter.ALL)}\n              >\n                All\n              </a>\n\n              <a\n                href=\"#/active\"\n                className={classNames(\n                  'filter__link',\n                  { selected: filterTodos === Filter.ACTIVE },\n                )}\n                onClick={() => setFilterTodos(Filter.ACTIVE)}\n              >\n                Active\n              </a>\n\n              <a\n                href=\"#/completed\"\n                className={classNames(\n                  'filter__link',\n                  { selected: filterTodos === Filter.COMPLETED },\n                )}\n                onClick={() => setFilterTodos(Filter.COMPLETED)}\n              >\n                Completed\n              </a>\n            </nav>\n\n            <button\n              type=\"button\"\n              className=\"todoapp__clear-completed\"\n              onClick={() => clearCompleted()}\n              disabled={completedTodos.length <= 0}\n            >\n              Clear completed\n            </button>\n\n          </footer>\n        )}\n      </div>\n\n      <div\n        className={classNames(\n          'notification is-danger',\n          'is-light',\n          'has-text-weight-normal',\n          { hidden: erorr === ErorrType.NONE },\n        )}\n      >\n        <button\n          type=\"button\"\n          aria-label=\"button\"\n          className=\"delete\"\n          onClick={() => clearErorr()}\n        />\n        {erorr === ErorrType.ADD_ERROR && (\n          <div>Unable to add a todo</div>\n        )}\n        {erorr === ErorrType.DELETE_ERROR && (\n          <div>Unable to delete a todo</div>\n        )}\n        {erorr === ErorrType.UPDATE_ERROR && (\n          <div>Unable to update a todo</div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\n\n// eslint-disable-next-line\nexport enum ErrorInput {\n  NONE,\n  EMAILERROR,\n  NAMEERROR,\n}\n\ntype FomrUserProps = {\n  setUserEmail:React.Dispatch<React.SetStateAction<string>>;\n  userEmail:string;\n  formSubmit: (e:React.FormEvent<HTMLFormElement>) => void;\n  errorInput:ErrorInput;\n  secVisIn:boolean;\n  setUserName:React.Dispatch<React.SetStateAction<string>>;\n  userName:string;\n};\n\nexport const FormUser:React.FC<FomrUserProps> = ({\n  setUserEmail,\n  userEmail,\n  formSubmit,\n  errorInput,\n  secVisIn,\n  setUserName,\n  userName,\n}) => {\n  return (\n    <div className=\"form__block\">\n      <div className=\"form__content\">\n        <form className=\"form\" onSubmit={(e) => formSubmit(e)}>\n          {!secVisIn ? (\n            <h1 className=\"form__title\">Log in to open todos</h1>\n          ) : (\n            <h1 className=\"form__title\">You need to register</h1>\n          )}\n\n          <div className=\"form__field\">\n            {/* eslint-disable-next-line */}\n            <label className=\"form__label\" htmlFor=\"input-email\">Email</label>\n            <div className=\"form__input-block\">\n              <input\n                type=\"email\"\n                className={classNames(\n                  'form__input',\n                  { error: errorInput === ErrorInput.EMAILERROR },\n                )}\n                placeholder=\"Enter your email\"\n                value={userEmail}\n                id=\"input-email\"\n                onChange={(e) => setUserEmail(e.target.value)}\n                required={false}\n                disabled={secVisIn}\n              />\n\n              <span className=\"form__icon form__icon--envelope\" />\n            </div>\n            {errorInput === ErrorInput.EMAILERROR && (\n              <p className=\"form__error\">Invalid address entered</p>\n            )}\n          </div>\n\n          {secVisIn && (\n            <div className=\"form__field\">\n              {/* eslint-disable-next-line */}\n              <label\n                className=\"form__label\"\n                htmlFor=\"input-user\"\n              >\n                Your Name\n              </label>\n\n              <div className=\"form__input-block\">\n                <input\n                  type=\"text\"\n                  id=\"input-user\"\n                  className={classNames(\n                    'form__input',\n                    { error: errorInput === ErrorInput.NAMEERROR },\n                  )}\n                  placeholder=\"Enter your name\"\n                  value={userName}\n                  onChange={(e) => setUserName(e.target.value)}\n                />\n\n                <span className=\"form__icon form__icon--user\" />\n              </div>\n              {errorInput === ErrorInput.NAMEERROR && (\n                <p className=\"form__error\">Invalid name</p>\n              )}\n            </div>\n          )}\n\n          <div className=\"form__field\">\n            <button\n              type=\"submit\"\n              className=\"form__button\"\n            >\n              {!secVisIn ? 'Login' : 'Register'}\n            </button>\n          </div>\n        </form>\n      </div>\n\n    </div>\n\n  );\n};\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React, { useState } from 'react';\nimport { Todos } from './Todos';\nimport './styles/form.scss';\nimport { client } from './utils/fetchClient';\nimport { FormUser } from './FormUser';\n\n// eslint-disable-next-line\nexport enum ErrorInput {\n  NONE,\n  EMAILERROR,\n  NAMEERROR,\n}\n\ninterface User {\n  email: string;\n  id: number;\n  name: string;\n}\n\nexport const App = () => {\n  function useLocaleStorage<T>(\n    key: string,\n    initialValue: T,\n  ): [T, (value: T) => void] {\n    const [value, setValue] = useState<T>(() => {\n      try {\n        const item = localStorage.getItem(key);\n\n        return item ? JSON.parse(item) : initialValue;\n      } catch {\n        return initialValue;\n      }\n    });\n\n    const save = (v: T): void => {\n      setValue(v);\n      localStorage.setItem(key, JSON.stringify(v));\n    };\n\n    return [value, save];\n  }\n\n  const [userEmail, setUserEmail] = useState('');\n  const [userName, setUserName] = useState('');\n  const [errorInput, setErrorInput] = useState<ErrorInput>(ErrorInput.NONE);\n  const [secVisIn, setSecVisIn] = useState(false);\n  const [user, setUser] = useLocaleStorage<User[] | []>('user', []);\n\n  const addNewUser = (name:string, email:string) => {\n    return client.post('/users', { name, email });\n  };\n\n  const checkedUserEmail = () => {\n    client.get<User[]>(`/users?email=${userEmail}`).then(u => setUser(u));\n  };\n\n  const formSubmit = (e:React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const p = new RegExp('^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$')\n      .test(userEmail);\n\n    if (p) {\n      checkedUserEmail();\n      setSecVisIn(true);\n      setErrorInput(ErrorInput.NONE);\n      if (userName.length >= 4) {\n        addNewUser(userName, userEmail);\n        setErrorInput(ErrorInput.NONE);\n      } else if (userName.length !== 0) {\n        setErrorInput(ErrorInput.NAMEERROR);\n      }\n    } else {\n      setErrorInput(ErrorInput.EMAILERROR);\n    }\n  };\n\n  return (\n    user.length > 0 ? (\n      <Todos user={user[0]} />\n    ) : (\n      <FormUser\n        setUserEmail={setUserEmail}\n        userEmail={userEmail}\n        formSubmit={formSubmit}\n        errorInput={errorInput}\n        secVisIn={secVisIn}\n        setUserName={setUserName}\n        userName={userName}\n      />\n    )\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport { HashRouter } from 'react-router-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}